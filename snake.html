<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">

  <!-- ‚úÖ SEO AVAN√áADO -->
  <title>Snake Evolution üêç | Jogue Online Gr√°tis ‚Äì Games On-Line</title>
  <meta name="description" content="Jogue Snake Evolution gr√°tis! Controle a cobra, evolua, dispute recordes e avance de n√≠vel. Totalmente online, compat√≠vel com PC e celular.">
  <meta name="keywords" content="snake, jogo da cobrinha, jogar snake, snake online, snake evolution, jogo gr√°tis, games online, cobra game">
  <meta name="author" content="Games On-Line">
  <meta name="robots" content="index, follow">
  <meta name="language" content="pt-BR">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Canonical -->
  <link rel="canonical" href="https://SEU-DOMINIO-AQUI.com/snake-evolution.html">

  <!-- ‚úÖ SEO ‚Äì Open Graph -->
  <meta property="og:title" content="Snake Evolution üêç | Jogue Online Gr√°tis">
  <meta property="og:description" content="A vers√£o mais evolu√≠da do cl√°ssico jogo da cobrinha. Avance fases e dispute recordes!">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://SEU-DOMINIO-AQUI.com/snake-evolution.html">
  <meta property="og:image" content="https://SEU-DOMINIO-AQUI.com/imagens/snake-banner.png">

  <!-- ‚úÖ SEO ‚Äì Twitter Cards -->
  <meta name="twitter:title" content="Snake Evolution üêç | Jogue Online Gr√°tis">
  <meta name="twitter:description" content="A evolu√ß√£o do cl√°ssico Snake. Com fases, obst√°culos e efeitos!">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://SEU-DOMINIO-AQUI.com/imagens/snake-banner.png">

  <!-- ‚úÖ Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6NMX3MDJVN"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-6NMX3MDJVN');
  </script>

  <!-- ‚úÖ Google Adsense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6890693169488330"
  crossorigin="anonymous"></script>

  <style>
    body {
      margin: 0;
      padding: 0;
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }
    header {
      text-align: center;
      padding: 5px;
      font-size: 1.2em;
      font-weight: bold;
      background: #222;
    }
    #gameWrapper {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }
    canvas {
      background: #000;
      display: block;
    }
    #overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10;
      text-align: center;
    }
    #overlay h1 {
      font-size: 3em;
      margin-bottom: 20px;
      animation: glow 2s infinite alternate;
    }
    @keyframes glow {
      from { text-shadow: 0 0 10px #0f0, 0 0 20px #0f0; }
      to { text-shadow: 0 0 20px #0f0, 0 0 40px #0f0; }
    }
    button {
      background: #0f0;
      border: none;
      padding: 6px 14px;
      font-size: 1em;
      cursor: pointer;
      border-radius: 6px;
      margin: 5px;
    }
    #pauseOverlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      font-weight: bold;
      z-index: 9;
    }
    footer {
      text-align: center;
      padding: 5px;
      font-size: 0.9em;
      background: #222;
      flex-shrink: 0;
    }
  </style>
</head>
<body>

<header>
  Snake Evolution ‚Äì Pontos: <span id="score">0</span> | Recorde: <span id="highscore">0</span>
  <button id="musicBtn">üéµ M√∫sica</button>
  <button id="fsBtn">‚õ∂ Tela Cheia</button>
  <button onclick="window.location.href='index.html'">üè† Voltar</button>
</header>

<div id="gameWrapper">
  <canvas id="gameCanvas"></canvas>

  <div id="overlay">
    <h1>üêç Snake Evolution</h1>
    <button id="startBtn">‚ñ∂ Iniciar Jogo</button>
  </div>
  <div id="pauseOverlay">‚è∏Ô∏è Jogo Pausado</div>
</div>

<footer>
  <p>¬© 2025 Games On-Line. Todos os direitos reservados.</p>
</footer>

<!-- Sons -->
<audio id="eatSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="dieSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
<audio id="winSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>

<!-- ‚úÖ BOT√ïES DO MOBILE -->
<div id="mobileControls" style="
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  display: none;
  z-index: 20;
">
  <div style="display: flex; justify-content: center;">
    <button onclick="moveMobile('up')" style="width:65px;height:65px;font-size:22px;">ü°±</button>
  </div>
  <div style="display: flex;">
    <button onclick="moveMobile('left')" style="width:65px;height:65px;font-size:22px;">ü°∏</button>
    <button onclick="moveMobile('down')" style="width:65px;height:65px;font-size:22px;">ü°≥</button>
    <button onclick="moveMobile('right')" style="width:65px;height:65px;font-size:22px;">ü°∫</button>
  </div>
</div>

<script>
/* ==========================================================================================
      SCRIPT DO JOGO - SKIN NEON + POWER-UP GHOST ‚úÖ
   ========================================================================================== */

const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

const overlay = document.getElementById("overlay");
const pauseOverlay = document.getElementById("pauseOverlay");
const startBtn = document.getElementById("startBtn");
const scoreEl = document.getElementById("score");
const highscoreEl = document.getElementById("highscore");
const musicBtn = document.getElementById("musicBtn");
const fsBtn = document.getElementById("fsBtn");

const eatSound = document.getElementById("eatSound");
const dieSound = document.getElementById("dieSound");
const winSound = document.getElementById("winSound");
const bgMusic = document.getElementById("bgMusic");

// ‚úÖ BOT√ïES MOBILE
const mobileControls = document.getElementById("mobileControls");
if (/Android|iPhone|iPad|Mobile/i.test(navigator.userAgent)) {
  mobileControls.style.display = "block";
}

/* ==================== VARI√ÅVEIS DO JOGO ==================== */
let gridSize = 20;
let snake, food, powerUp, obstacles, dx, dy;
let score = 0, highscore = 0, level = 1;
let speed = 200, paused = false, gameInterval;

let ghostMode = false;
let ghostTimeout = null;

// üîπ Carregar recorde salvo
if (localStorage.getItem("snakeHighscore")) {
  highscore = parseInt(localStorage.getItem("snakeHighscore"));
  highscoreEl.textContent = highscore;
}


/* ==================== CONFIGURA√á√ÉO INICIAL ==================== */
window.onload = () => overlay.style.display = "flex";

function resizeCanvas() {
  let size = Math.min(window.innerWidth * 0.90, window.innerHeight * 0.80);
  canvas.width = size;
  canvas.height = size;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

function initGame() {
  snake = [{x: 10, y: 10}];
  dx = 1; dy = 0;
  score = 0;
  level = 1;
  speed = 300;
  scoreEl.textContent = score;  // ‚úÖ Zera a pontua√ß√£o no topo da tela
  ghostMode = false;
  spawnFood();
  obstacles = [];
  spawnPowerUp(false); // oculta no in√≠cio
  draw();
}

/* ==================== FOOD & POWER-UP ==================== */
function spawnFood() {
  food = {
    x: Math.floor(Math.random() * (canvas.width / gridSize)),
    y: Math.floor(Math.random() * (canvas.height / gridSize))
  };
}

function spawnPowerUp(active = true) {
  powerUp = active ? {
    x: Math.floor(Math.random() * (canvas.width / gridSize)),
    y: Math.floor(Math.random() * (canvas.height / gridSize)),
    active: true
  } : { active: false };
}

/* ==================== DESENHO DA COBRA (SKIN NEON) ==================== */
function drawSnake() {
  ctx.shadowBlur = 15;
  ctx.shadowColor = ghostMode ? "#00ffff" : "#39ff14";

  snake.forEach((p, index) => {
    ctx.fillStyle = index === 0 ? "#ffffff" : (ghostMode ? "#00ffff" : "#39ff14");
    ctx.fillRect(p.x * gridSize, p.y * gridSize, gridSize, gridSize);
  });

  ctx.shadowBlur = 0;
}

/* ==================== DESENHAR FOOD E POWER-UP ==================== */
function drawFood() {
  ctx.fillStyle = "red";
  ctx.shadowBlur = 12;
  ctx.shadowColor = "red";
  ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize, gridSize);
  ctx.shadowBlur = 0;
}

function drawPowerUp() {
  if (!powerUp.active) return;

  ctx.fillStyle = "#00ffff";
  ctx.shadowBlur = 20;
  ctx.shadowColor = "#00ffff";
  ctx.beginPath();
  ctx.arc(
    powerUp.x * gridSize + gridSize / 2,
    powerUp.y * gridSize + gridSize / 2,
    gridSize / 2,
    0, Math.PI * 2
  );
  ctx.fill();
  ctx.shadowBlur = 0;
}

/* ==================== DESENHAR OBST√ÅCULOS ==================== */
function drawObstacles() {
  ctx.fillStyle = "#666";
  obstacles.forEach(o => ctx.fillRect(o.x * gridSize, o.y * gridSize, gridSize, gridSize));
}

/* ==================== MEC√ÇNICA PRINCIPAL ==================== */
function update() {
  if (paused) return;

  let head = { x: snake[0].x + dx, y: snake[0].y + dy };

  // ‚úÖ Ghost mode atravessa paredes
  if (ghostMode) {
    head.x = (head.x + canvas.width / gridSize) % (canvas.width / gridSize);
    head.y = (head.y + canvas.height / gridSize) % (canvas.height / gridSize);
  } else {
    // colis√µes normais
    if (head.x < 0 || head.y < 0 || head.x >= canvas.width / gridSize || head.y >= canvas.height / gridSize) {
      return gameOver();
    }
  }

  // colis√£o com o pr√≥prio corpo (ghost ativa passa por cima)
  if (!ghostMode && snake.some(p => p.x === head.x && p.y === head.y)) {
    return gameOver();
  }

  // colis√£o com obst√°culos
  if (!ghostMode && obstacles.some(o => o.x === head.x && o.y === head.y)) {
    return gameOver();
  }

  snake.unshift(head);

  /* ==================== PEGOU A COMIDA ==================== */
  if (head.x === food.x && head.y === food.y) {
    eatSound.play();
    score++;
    scoreEl.textContent = score;

  if (score > highscore) {
  highscore = score;
  highscoreEl.textContent = highscore;
  localStorage.setItem("snakeHighscore", highscore); // ‚úÖ Salva o recorde permanentemente
}


    // A cada 25 comidas surge o power-up
    if (score % 25 === 0) spawnPowerUp(true);

    // aumenta dificuldade
    if (score % 10 === 0) {
      speed = Math.max(50, speed * 0.6);
      clearInterval(gameInterval);
      gameInterval = setInterval(update, speed);
    }

    spawnFood();
  } else {
    snake.pop();
  }

  /* ==================== PEGOU POWER-UP ==================== */
  if (powerUp.active && head.x === powerUp.x && head.y === powerUp.y) {
    powerUp.active = false;
    activateGhost();
  }

  draw();
}

/* ==================== ATIVAR GHOST MODE ==================== */
function activateGhost() {
  ghostMode = true;
  clearTimeout(ghostTimeout);

  ghostTimeout = setTimeout(() => {
    ghostMode = false;
  }, 6000);
}

/* ==================== GAME OVER ==================== */
function gameOver() {
  dieSound.play();
  overlay.innerHTML = `<h1>Voc√™ Perdeu!</h1><button onclick="restart()">üîÑ Reiniciar</button>`;
  overlay.style.display = "flex";
  clearInterval(gameInterval);
}

/* ==================== DESENHAR CENA ==================== */
function draw() {
  ctx.fillStyle = "black";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  drawSnake();
  drawFood();
  drawPowerUp();
  drawObstacles();
}

function nextLevel() {
  level++;
  if (level >= 8) {
    obstacles.push({
      x: Math.floor(Math.random() * (canvas.width / gridSize)),
      y: Math.floor(Math.random() * (canvas.height / gridSize))
    });
  }
}

/* ==================== CONTROLES ==================== */
function restart() {
  overlay.style.display = "none";
  scoreEl.textContent = 0; // ‚úÖ garante visual reset
  initGame();
  gameInterval = setInterval(update, speed);
}

document.addEventListener("keydown", e => {
  if (e.key === "ArrowUp" && dy === 0) { dx = 0; dy = -1; }
  if (e.key === "ArrowDown" && dy === 0) { dx = 0; dy = 1; }
  if (e.key === "ArrowLeft" && dx === 0) { dx = -1; dy = 0; }
  if (e.key === "ArrowRight" && dx === 0) { dx = 1; dy = 0; }
  if (e.key.toLowerCase() === "p") togglePause();
});

// ‚úÖ MOBILE
function moveMobile(dir) {
  if (dir === "up" && dy === 0) { dx = 0; dy = -1; }
  if (dir === "down" && dy === 0) { dx = 0; dy = 1; }
  if (dir === "left" && dx === 0) { dx = -1; dy = 0; }
  if (dir === "right" && dx === 0) { dx = 1; dy = 0; }
}

function togglePause() {
  paused = !paused;
  pauseOverlay.style.display = paused ? "flex" : "none";
}

startBtn.onclick = () => {
  overlay.style.display = "none";
  initGame();
  gameInterval = setInterval(update, speed);
  bgMusic.play();
};

musicBtn.onclick = () => bgMusic.paused ? bgMusic.play() : bgMusic.pause();

fsBtn.onclick = () =>
  !document.fullscreenElement ?
    document.documentElement.requestFullscreen() :
    document.exitFullscreen();
</script>
</body>
</html>
